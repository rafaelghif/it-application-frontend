import{Q as x,D as b,r as u,_ as d,j as t,H as s,L as i,I as v,N as j}from"./index-371e0479.js";import{M as f}from"./Modal-05a5b31d.js";import{u as h,b as _}from"./useToast-7daec343.js";import{c as D}from"./personal-computer-service-6fe0350c.js";const P=()=>{const m=x(),{setLoading:o}=b(),{successToast:a,errorToast:l}=h();return _({mutationFn:n=>D(n),onMutate:()=>{o(!0)},onError:async n=>{o(!1),l(n)},onSuccess:async n=>{a(n),m.invalidateQueries({queryKey:["personal-computer"]})},onSettled:()=>{o(!1)}})},S=u.lazy(()=>d(()=>import("./SelectDepartment-eff00497.js"),["assets/SelectDepartment-eff00497.js","assets/index-371e0479.js","assets/index-aeb37fef.css","assets/useQuery-85112495.js","assets/useToast-7daec343.js","assets/department-service-ba2cf26f.js"])),y=u.lazy(()=>d(()=>import("./SelectLocationByDepartment-f4ed8f79.js"),["assets/SelectLocationByDepartment-f4ed8f79.js","assets/index-371e0479.js","assets/index-aeb37fef.css","assets/useQuery-85112495.js","assets/useToast-7daec343.js","assets/location-service-7556d11c.js"])),E=({isOpen:m,onDidDismiss:o})=>{const[a,l]=u.useState({assetNo:"",invoiceNo:"",ownerName:"",serialNumber:"",detailName:"",DepartmentId:"",LocationId:""}),{mutate:n}=P(),r=(e,c)=>{l(N=>({...N,[e]:c}))},p=e=>{l(c=>({...c,DepartmentId:e,LocationId:""}))},I=e=>{e.preventDefault(),n(a),o(),l({assetNo:"",invoiceNo:"",ownerName:"",serialNumber:"",detailName:"",DepartmentId:"",LocationId:""})};return t.jsx(f,{title:"Create Personal Computer",isOpen:m,onDidDismiss:o,children:t.jsxs("form",{onSubmit:I,children:[t.jsx(s,{children:t.jsx(i,{type:"text",label:"Serial Number",labelPlacement:"floating",value:a.serialNumber,onIonInput:e=>r("serialNumber",e.detail.value),required:!0})}),t.jsx(s,{children:t.jsx(i,{label:"Asset No",labelPlacement:"floating",value:a.assetNo,onIonInput:e=>r("assetNo",e.detail.value),required:!0})}),t.jsx(s,{children:t.jsx(i,{label:"Invoice No",labelPlacement:"floating",value:a.invoiceNo,onIonInput:e=>r("invoiceNo",e.detail.value),required:!0})}),t.jsx(s,{children:t.jsx(i,{label:"Owner Name",labelPlacement:"floating",value:a.ownerName,onIonInput:e=>r("ownerName",e.detail.value),required:!0})}),t.jsx(s,{children:t.jsx(i,{label:"Detail Name",labelPlacement:"floating",value:a.detailName,onIonInput:e=>r("detailName",e.detail.value),required:!0})}),t.jsxs(u.Suspense,{fallback:t.jsx(v,{name:"crescent"}),children:[t.jsx(S,{value:a.DepartmentId,onChange:e=>p(e)}),(a==null?void 0:a.DepartmentId)&&t.jsx(y,{value:a.LocationId,departmentId:a.DepartmentId,onChange:e=>r("LocationId",e)})]}),t.jsx(j,{type:"submit",expand:"block",children:"Submit"})]})})};export{E as default};

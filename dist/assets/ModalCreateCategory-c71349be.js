import{Q as m,D as d,r as p,j as o,H as y,L as f,N as x}from"./index-2e6015fe.js";import{M as C}from"./Modal-e69a7e9c.js";import{u as b,b as g}from"./useToast-38e41910.js";import{c as I}from"./category-service-8ea230ad.js";const j=()=>{const r=m(),{setLoading:t}=d(),{successToast:s,errorToast:n}=b();return g({mutationFn:e=>I(e),onMutate:()=>{t(!0)},onError:async e=>{t(!1),n(e)},onSuccess:async e=>{s(e),r.invalidateQueries({queryKey:["categories"]})},onSettled:()=>{t(!1)}})},q=({isOpen:r,onDidDismiss:t})=>{const[s,n]=p.useState({name:""}),{mutate:e}=j(),u=(a,c)=>{n(i=>({...i,[a]:c}))},l=a=>{a.preventDefault(),e(s),n({name:""}),t()};return o.jsx(C,{title:"Create Category",isOpen:r,onDidDismiss:t,children:o.jsxs("form",{onSubmit:l,children:[o.jsx(y,{children:o.jsx(f,{type:"text",label:"Name",labelPlacement:"floating",value:s.name,onIonInput:a=>u("name",a.detail.value),required:!0})}),o.jsx(x,{type:"submit",expand:"block",children:"Submit"})]})})};export{q as default};

System.register(["./index-legacy-4a49ef7b.js","./useToast-legacy-d54321d9.js"],(function(e,s){"use strict";var t,a,n,r,l,c,o,d,i,u,m,x,p,j,b,h,g;return{setters:[e=>{t=e.C,a=e.D,n=e.E,r=e.F,l=e.G,c=e.r,o=e.j,d=e.H,i=e.c,u=e.J,m=e.L,x=e.M,p=e.N},e=>{j=e.a,b=e.u,h=e.b,g=e.s}],execute:function(){const s=()=>{const e=t(),{setLoading:s}=a(),{errorToast:c,successToast:o}=b(),{setUser:d}=n(),{loginUser:i}=r(),{setDepartment:u}=l();return h({mutationFn:e=>(async e=>{try{return await j("/authentication/",e)}catch(s){throw s}})(e),onMutate:()=>{s(!0)},onError:async e=>{c(e)},onSuccess:async e=>{const{data:s,message:t}=e,{user:a,department:n,token:r}=s;g(r),d(a),u(n),o(t),i()},onSettled:(t,a)=>{s(!1),null===a&&e.replace("/dashboard")}})};e("default",(()=>{const[e,t]=c.useState({badgeId:"",password:""}),{mutate:a}=s(),n=(e,s)=>{t((t=>({...t,[e]:s})))},r=()=>{a(e)};return o.jsx("div",{className:"flex items-center justify-center w-screen h-screen",children:o.jsxs("div",{className:"w-11/12 p-5 rounded shadow-lg md:w-1/2 lg:w-1/3 dark:bg-[#181818]",children:[o.jsx("div",{className:"mb-4 text-center",children:o.jsx("span",{className:"text-xl font-bold",children:"IT Application"})}),o.jsx("div",{className:"",children:o.jsxs("form",{onSubmit:e=>{e.preventDefault(),r()},children:[o.jsxs(d,{children:[o.jsx(i,{icon:u,slot:"start"}),o.jsx(m,{type:"text",label:"Username",labelPlacement:"floating",value:e.badgeId,onIonInput:e=>n("badgeId",e.detail.value)})]}),o.jsxs(d,{children:[o.jsx(i,{icon:x,slot:"start"}),o.jsx(m,{type:"password",label:"Password",labelPlacement:"floating",value:e.password,onIonInput:e=>n("password",e.detail.value),onKeyUp:e=>{"Enter"===e.key&&r()}})]}),o.jsx(p,{type:"submit",expand:"block",children:"Submit"})]})})]})})}))}}}));

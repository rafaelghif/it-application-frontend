System.register(["./index-legacy-4a49ef7b.js","./Card-legacy-04ea13b8.js","./Modal-legacy-cc912185.js","./useToast-legacy-d54321d9.js","./department-service-legacy-3fbe6868.js","./useQuery-legacy-b83d013a.js"],(function(e,t){"use strict";var n,a,i,s,l,r,d,c,o,u,j,x,v,m,y,b,h,p,g,f,D,I;return{setters:[e=>{n=e.Q,a=e.D,i=e.r,s=e.j,l=e.H,r=e.L,d=e.R,c=e.N,o=e._,u=e.S,j=e.T,x=e.U,v=e.V,m=e.W,y=e.I},e=>{b=e.C},e=>{h=e.M},e=>{p=e.u,g=e.b},e=>{f=e.u,D=e.g},e=>{I=e.u}],execute:function(){const S=({isOpen:e,data:t,onDidDismiss:o})=>{const[u,j]=i.useState({}),{mutate:x}=(()=>{const e=n(),{setLoading:t}=a(),{successToast:i,errorToast:s}=p();return g({mutationFn:e=>f(e),onMutate:()=>{t(!0)},onError:async e=>{t(!1),s(e)},onSuccess:async t=>{i(t),e.invalidateQueries({queryKey:["departments"]})},onSettled:()=>{t(!1)}})})(),v=(e,t)=>{j((n=>({...n,[e]:t})))};return i.useEffect((()=>{j((e=>({...e,id:null==t?void 0:t.id,name:null==t?void 0:t.name,abbreviation:null==t?void 0:t.abbreviation,inActive:null==t?void 0:t.inActive})))}),[t]),s.jsx(h,{title:"Update Department",isOpen:e,onDidDismiss:o,children:s.jsxs("form",{onSubmit:e=>{e.preventDefault(),x(u),o()},children:[s.jsx(l,{children:s.jsx(r,{type:"text",label:"Id",labelPlacement:"floating",value:null==u?void 0:u.id,onIonInput:e=>v("id",e.detail.value),required:!0,disabled:!0})}),s.jsx(l,{children:s.jsx(r,{type:"text",label:"Name",labelPlacement:"floating",value:null==u?void 0:u.name,onIonInput:e=>v("name",e.detail.value),required:!0})}),s.jsx(l,{children:s.jsx(r,{type:"text",label:"Abbreviation",labelPlacement:"floating",value:null==u?void 0:u.abbreviation,onIonInput:e=>v("abbreviation",e.detail.value),required:!0})}),s.jsx(l,{children:s.jsx(d,{checked:null==u?void 0:u.inActive,onIonChange:e=>v("inActive",e.detail.checked),children:"InActive"})}),s.jsx(c,{type:"submit",expand:"block",children:"Submit"})]})})},A=i.lazy((()=>o((()=>t.import("./TableDepartment-legacy-2a6c69a5.js")),void 0)));e("default",(()=>{const{data:e,isLoading:t,refetch:n}=(()=>{const{setLoading:e}=a(),{errorToast:t}=p();return I({queryKey:["departments"],queryFn:()=>D(),onError:async n=>{t(n),e(!1)},onSettled:async()=>{e(!1)},refetchOnWindowFocus:!1,retry:!1})})(),[l,r]=i.useState(),[d,c]=i.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx(u,{slot:"fixed",onIonRefresh:async e=>{n(),e.detail.complete()},children:s.jsx(j,{})}),s.jsx(x,{children:s.jsx(v,{children:s.jsx(m,{children:s.jsx(b,{title:"Data Department",children:t?s.jsx(y,{name:"crescent"}):s.jsx(i.Suspense,{fallback:s.jsx(y,{name:"crescent"}),children:s.jsx(A,{data:e,handleClickBtnEdit:e=>(e=>{r(e),c(!0)})(e)})})})})})}),s.jsx(S,{data:l,isOpen:d,onDidDismiss:()=>c(!1)})]})}))}}}));

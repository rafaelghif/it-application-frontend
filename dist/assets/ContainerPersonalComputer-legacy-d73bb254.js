System.register(["./index-legacy-7e6fb237.js","./Card-legacy-3e7c8f1d.js","./useQuery-legacy-d96a72de.js","./useToast-legacy-423e2167.js","./personal-computer-service-legacy-99414b47.js","./Modal-legacy-c2854f43.js"],(function(e,l){"use strict";var a,n,t,i,o,s,r,u,d,c,v,m,p,j,x,h,I,b,g,D,y,f,N,P,S,q;return{setters:[e=>{a=e.D,n=e.Q,t=e.r,i=e._,o=e.j,s=e.H,r=e.L,u=e.X,d=e.Y,c=e.$,v=e.I,m=e.R,p=e.N,j=e.S,x=e.T,h=e.U,I=e.V,b=e.W,g=e.Z},e=>{D=e.C},e=>{y=e.u},e=>{f=e.u,N=e.b},e=>{P=e.g,S=e.u},e=>{q=e.M}],execute:function(){const O=t.lazy((()=>i((()=>l.import("./SelectDepartment-legacy-3e8e7892.js")),void 0))),k=t.lazy((()=>i((()=>l.import("./SelectLocationByDepartment-legacy-31207f48.js")),void 0))),w=({isOpen:e,data:l,onDidDismiss:i})=>{const[j,x]=t.useState({}),{mutate:h}=(()=>{const e=n(),{setLoading:l}=a(),{successToast:t,errorToast:i}=f();return N({mutationFn:e=>S(e),onMutate:()=>{l(!0)},onError:async e=>{l(!1),i(e)},onSuccess:async l=>{t(l),e.invalidateQueries({queryKey:["personal-computer"]})},onSettled:()=>{l(!1)}})})(),I=(e,l)=>{x((a=>({...a,[e]:l})))};return t.useEffect((()=>{x((e=>({...e,id:null==l?void 0:l.id,assetNo:null==l?void 0:l.assetNo,invoiceNo:null==l?void 0:l.invoiceNo,ownerName:null==l?void 0:l.ownerName,previousOwner:null==l?void 0:l.previousOwner,detailName:null==l?void 0:l.detailName,name:null==l?void 0:l.name,username:null==l?void 0:l.username,domain:null==l?void 0:l.domain,purchaseDate:null==l?void 0:l.purchaseDate,expireDate:null==l?void 0:l.expireDate,status:null==l?void 0:l.status,remark:null==l?void 0:l.remark,inActive:null==l?void 0:l.inActive,DepartmentId:null==l?void 0:l.DepartmentId,LocationId:null==l?void 0:l.LocationId})))}),[l]),o.jsx(q,{title:"Update Personal Computer",isOpen:e,onDidDismiss:i,children:o.jsxs("form",{onSubmit:e=>{e.preventDefault(),h(j),i()},children:[o.jsx(s,{children:o.jsx(r,{label:"Id",labelPlacement:"floating",value:null==j?void 0:j.id,onIonInput:e=>I("id",e.detail.value),required:!0,disabled:!0})}),o.jsx(s,{children:o.jsx(r,{label:"Asset No",labelPlacement:"floating",value:null==j?void 0:j.assetNo,onIonInput:e=>I("assetNo",e.detail.value),required:!0})}),o.jsx(s,{children:o.jsx(r,{label:"Invoice No",labelPlacement:"floating",value:null==j?void 0:j.invoiceNo,onIonInput:e=>I("invoiceNo",e.detail.value),required:!0})}),o.jsx(s,{children:o.jsx(r,{label:"Owner Name",labelPlacement:"floating",value:null==j?void 0:j.ownerName,onIonInput:e=>I("ownerName",e.detail.value),required:!0})}),o.jsx(s,{children:o.jsx(r,{label:"Previous Owner Name",labelPlacement:"floating",value:null==j?void 0:j.previousOwner,onIonInput:e=>I("previousOwner",e.detail.value),required:!0})}),o.jsx(s,{children:o.jsx(r,{label:"Detail Name",labelPlacement:"floating",value:null==j?void 0:j.detailName,onIonInput:e=>I("detailName",e.detail.value),required:!0})}),o.jsx(s,{children:o.jsx(r,{label:"Computer Name",labelPlacement:"floating",value:null==j?void 0:j.name,onIonInput:e=>I("name",e.detail.value),required:!0})}),o.jsx(s,{children:o.jsx(r,{label:"Username",labelPlacement:"floating",value:null==j?void 0:j.username,onIonInput:e=>I("username",e.detail.value),required:!0})}),o.jsx(s,{children:o.jsx(r,{label:"Domain",labelPlacement:"floating",value:null==j?void 0:j.domain,onIonInput:e=>I("domain",e.detail.value),required:!0})}),o.jsx(s,{children:o.jsx(r,{type:"date",label:"Purchase Date",labelPlacement:"floating",value:null==j?void 0:j.purchaseDate,onIonInput:e=>I("purchaseDate",e.detail.value),required:!0})}),o.jsx(s,{children:o.jsx(r,{type:"date",label:"Expire Date",labelPlacement:"floating",value:null==j?void 0:j.expireDate,onIonInput:e=>I("expireDate",e.detail.value),required:!0})}),o.jsx(s,{children:o.jsxs(u,{label:"Status",labelPlacement:"floating",value:null==j?void 0:j.status,onIonChange:e=>{return a=e.detail.value,void x("Dispose"===a?e=>({...e,status:a,inActive:!0}):e=>({...e,status:a,inActive:null==l?void 0:l.inActive}));var a},children:[o.jsx(d,{value:"Operational",children:"Operational"}),o.jsx(d,{value:"Not Operating",children:"Not Operating"}),o.jsx(d,{value:"Repair",children:"Repair"}),o.jsx(d,{value:"Dispose",children:"Dispose"})]})}),o.jsx(s,{children:o.jsx(c,{label:"Remark",labelPlacement:"floating",value:null==j?void 0:j.remark,onIonInput:e=>I("remark",e.detail.value)})}),o.jsxs(t.Suspense,{fallback:o.jsx(v,{name:"crescent"}),children:[o.jsx(O,{value:null==j?void 0:j.DepartmentId,onChange:e=>(e=>{x((l=>({...l,DepartmentId:e,LocationId:""})))})(e)}),(null==j?void 0:j.DepartmentId)&&o.jsx(k,{value:j.LocationId,departmentId:j.DepartmentId,onChange:e=>I("LocationId",e)})]}),o.jsx(s,{children:o.jsx(m,{checked:null==j?void 0:j.inActive,onIonChange:e=>I("inActive",e.detail.checked),children:"InActive"})}),o.jsx(p,{type:"submit",expand:"block",children:"Submit"})]})})},C=t.lazy((()=>i((()=>l.import("./TablePersonalComputer-legacy-73d9c69e.js")),void 0)));e("default",(()=>{const[e,l]=t.useState(""),{data:n,isLoading:i,refetch:s}=(e=>{const{setLoading:l}=a(),{errorToast:n}=f();return y({queryKey:["personal-computer",{search:e}],queryFn:()=>P(e),onError:async e=>{n(e),l(!1)},onSettled:async()=>{l(!1)},refetchOnWindowFocus:!1,retry:!1})})(e),[r,u]=t.useState(),[d,c]=t.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsx(j,{slot:"fixed",onIonRefresh:async e=>{s(),e.detail.complete()},children:o.jsx(x,{})}),o.jsx(h,{children:o.jsxs(I,{children:[o.jsx(b,{size:"12",children:o.jsx(g,{value:e,onIonInput:e=>l(e.detail.value),debounce:1e3})}),o.jsx(b,{children:o.jsx(D,{title:"Data Personal Computer",children:i?o.jsx(v,{name:"crescent"}):o.jsx(t.Suspense,{fallback:o.jsx(v,{name:"crescent"}),children:o.jsx(C,{data:n,handleClickBtnEdit:e=>(e=>{u(e),c(!0)})(e)})})})})]})}),o.jsx(w,{isOpen:d,data:r,onDidDismiss:()=>c(!1)})]})}))}}}));

System.register(["./index-legacy-4a49ef7b.js","./Card-legacy-04ea13b8.js","./Modal-legacy-cc912185.js","./useToast-legacy-d54321d9.js","./phone-service-legacy-605c899c.js","./useQuery-legacy-b83d013a.js"],(function(e,n){"use strict";var t,l,s,a,i,o,d,r,c,u,x,j,v,p,h,m,y,g,D,I,b,f,S;return{setters:[e=>{t=e.Q,l=e.D,s=e.r,a=e._,i=e.j,o=e.H,d=e.L,r=e.I,c=e.R,u=e.N,x=e.S,j=e.T,v=e.U,p=e.V,h=e.W,m=e.Z},e=>{y=e.C},e=>{g=e.M},e=>{D=e.u,I=e.b},e=>{b=e.u,f=e.g},e=>{S=e.u}],execute:function(){const N=s.lazy((()=>a((()=>n.import("./SelectDepartment-legacy-ec68f50a.js")),void 0))),P=({isOpen:e,data:n,onDidDismiss:a})=>{const[x,j]=s.useState({}),{mutate:v}=(()=>{const e=t(),{setLoading:n}=l(),{successToast:s,errorToast:a}=D();return I({mutationFn:e=>b(e),onMutate:()=>{n(!0)},onError:async e=>{n(!1),a(e)},onSuccess:async n=>{s(n),e.invalidateQueries({queryKey:["phones"]})},onSettled:()=>{n(!1)}})})(),p=(e,n)=>{j((t=>({...t,[e]:n})))};return s.useEffect((()=>{j((e=>({...e,id:null==n?void 0:n.id,name:null==n?void 0:n.name,extNo:null==n?void 0:n.extNo,speedDialNo:null==n?void 0:n.speedDialNo,inActive:null==n?void 0:n.inActive,DepartmentId:null==n?void 0:n.DepartmentId})))}),[n]),i.jsx(g,{title:"Update Phone",isOpen:e,onDidDismiss:a,children:i.jsxs("form",{onSubmit:e=>{e.preventDefault(),v(x),a()},children:[i.jsx(o,{children:i.jsx(d,{type:"text",label:"Id",labelPlacement:"floating",value:null==x?void 0:x.id,onIonInput:e=>p("id",e.detail.value),disabled:!0,required:!0})}),i.jsx(o,{children:i.jsx(d,{type:"text",label:"UserName",labelPlacement:"floating",value:null==x?void 0:x.name,onIonInput:e=>p("name",e.detail.value),required:!0})}),i.jsx(o,{children:i.jsx(d,{type:"text",label:"Ext No",labelPlacement:"floating",value:null==x?void 0:x.extNo,onIonInput:e=>p("extNo",e.detail.value)})}),i.jsx(o,{children:i.jsx(d,{type:"text",label:"Speed Dial No",labelPlacement:"floating",value:null==x?void 0:x.speedDialNo,onIonInput:e=>p("speedDialNo",e.detail.value)})}),i.jsx(s.Suspense,{fallback:i.jsx(r,{name:"crescent"}),children:i.jsx(N,{value:null==x?void 0:x.DepartmentId,onChange:e=>p("DepartmentId",e)})}),i.jsx(o,{children:i.jsx(c,{checked:null==x?void 0:x.inActive,onIonChange:e=>p("inActive",e.detail.checked),children:"InActive"})}),i.jsx(u,{type:"submit",expand:"block",children:"Submit"})]})})},k=s.lazy((()=>a((()=>n.import("./TablePhone-legacy-5182a8a6.js")),void 0)));e("default",(()=>{const[e,n]=s.useState(""),{data:t,isLoading:a,refetch:o}=(e=>{const{setLoading:n}=l(),{errorToast:t}=D();return S({queryKey:["phones",{search:e}],queryFn:()=>f(e),onError:async e=>{t(e),n(!1)},onSettled:async()=>{n(!1)},refetchOnWindowFocus:!1,retry:!1})})(e),[d,c]=s.useState(),[u,g]=s.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsx(x,{slot:"fixed",onIonRefresh:async e=>{o(),e.detail.complete()},children:i.jsx(j,{})}),i.jsx(v,{children:i.jsxs(p,{children:[i.jsx(h,{size:"12",children:i.jsx(m,{value:e,onIonInput:e=>n(e.detail.value),debounce:1e3})}),i.jsx(h,{children:i.jsx(y,{title:"Data Phones",children:a?i.jsx(r,{name:"crescent"}):i.jsx(s.Suspense,{fallback:i.jsx(r,{name:"crescent"}),children:i.jsx(k,{data:t,handleClickBtnEdit:e=>(e=>{c(e),g(!0)})(e)})})})})]})}),i.jsx(P,{data:d,isOpen:u,onDidDismiss:()=>g(!1)})]})}))}}}));

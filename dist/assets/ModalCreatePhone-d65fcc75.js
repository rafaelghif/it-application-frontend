import{Q as x,D as I,r as c,_ as h,j as e,H as u,L as i,I as f,N as j}from"./index-2e6015fe.js";import{M as b}from"./Modal-e69a7e9c.js";import{u as D,b as N}from"./useToast-38e41910.js";import{c as v}from"./phone-service-733a040d.js";const y=()=>{const r=x(),{setLoading:o}=I(),{successToast:a,errorToast:s}=D();return N({mutationFn:n=>v(n),onMutate:()=>{o(!0)},onError:async n=>{o(!1),s(n)},onSuccess:async n=>{a(n),r.invalidateQueries({queryKey:["phones"]})},onSettled:()=>{o(!1)}})},S=c.lazy(()=>h(()=>import("./SelectDepartment-5601e28f.js"),["assets/SelectDepartment-5601e28f.js","assets/index-2e6015fe.js","assets/index-30953d8c.css","assets/useQuery-126fcc4d.js","assets/useToast-38e41910.js","assets/department-service-cd71fa07.js"])),E=({isOpen:r,onDidDismiss:o})=>{const[a,s]=c.useState({name:"",extNo:"",speedDialNo:"",DepartmentId:""}),{mutate:n}=y(),l=(t,p)=>{s(d=>({...d,[t]:p}))},m=t=>{t.preventDefault(),n(a),s({name:"",extNo:"",speedDialNo:"",DepartmentId:""}),o()};return e.jsx(b,{title:"Create Phone",isOpen:r,onDidDismiss:o,children:e.jsxs("form",{onSubmit:m,children:[e.jsx(u,{children:e.jsx(i,{type:"text",label:"UserName",labelPlacement:"floating",value:a.name,onIonInput:t=>l("name",t.detail.value),required:!0})}),e.jsx(u,{children:e.jsx(i,{type:"text",label:"Ext No",labelPlacement:"floating",value:a.extNo,onIonInput:t=>l("extNo",t.detail.value)})}),e.jsx(u,{children:e.jsx(i,{type:"text",label:"Speed Dial No",labelPlacement:"floating",value:a.speedDialNo,onIonInput:t=>l("speedDialNo",t.detail.value)})}),e.jsx(c.Suspense,{fallback:e.jsx(f,{name:"crescent"}),children:e.jsx(S,{value:a.DepartmentId,onChange:t=>l("DepartmentId",t)})}),e.jsx(j,{type:"submit",expand:"block",children:"Submit"})]})})};export{E as default};

System.register(["./index-legacy-7e6fb237.js","./Card-legacy-3e7c8f1d.js","./useQuery-legacy-d96a72de.js","./useToast-legacy-423e2167.js","./user-service-legacy-659e98c4.js","./Modal-legacy-c2854f43.js"],(function(e,l){"use strict";var n,a,s,t,i,d,r,o,c,u,j,v,x,m,p,h,y,g,b,I,f,D,S,A;return{setters:[e=>{n=e.D,a=e.Q,s=e.r,t=e._,i=e.j,d=e.H,r=e.L,o=e.X,c=e.Y,u=e.I,j=e.R,v=e.N,x=e.S,m=e.T,p=e.U,h=e.V,y=e.W},e=>{g=e.C},e=>{b=e.u},e=>{I=e.u,f=e.b},e=>{D=e.g,S=e.u},e=>{A=e.M}],execute:function(){const k=s.lazy((()=>t((()=>l.import("./SelectDepartment-legacy-3e8e7892.js")),void 0))),q=({isOpen:e,data:l,onDidDismiss:t})=>{const[x,m]=s.useState({}),{mutate:p}=(()=>{const e=a(),{setLoading:l}=n(),{successToast:s,errorToast:t}=I();return f({mutationFn:e=>S(e),onMutate:()=>{l(!0)},onError:async e=>{l(!1),t(e)},onSuccess:async l=>{s(l),e.invalidateQueries({queryKey:["users"]})},onSettled:()=>{l(!1)}})})(),h=(e,l)=>{m((n=>({...n,[e]:l})))};return s.useEffect((()=>{m((e=>({...e,id:null==l?void 0:l.id,badgeId:null==l?void 0:l.badgeId,password:null==l?void 0:l.password,email:null==l?void 0:l.email,name:null==l?void 0:l.name,role:null==l?void 0:l.role,inActive:null==l?void 0:l.inActive,DepartmentId:null==l?void 0:l.DepartmentId})))}),[l]),i.jsx(A,{title:"Update User",isOpen:e,onDidDismiss:t,children:i.jsxs("form",{onSubmit:e=>{e.preventDefault(),p(x),t()},children:[i.jsx(d,{children:i.jsx(r,{type:"text",label:"Id",labelPlacement:"floating",value:null==x?void 0:x.id,onIonInput:e=>h("id",e.detail.value),disabled:!0,required:!0})}),i.jsx(d,{children:i.jsx(r,{type:"text",label:"Badge Id",labelPlacement:"floating",value:null==x?void 0:x.badgeId,onIonInput:e=>h("badgeId",e.detail.value),required:!0})}),i.jsx(d,{children:i.jsx(r,{type:"password",label:"Password",labelPlacement:"floating",value:null==x?void 0:x.password,onIonInput:e=>h("password",e.detail.value),required:!0})}),i.jsx(d,{children:i.jsx(r,{type:"email",label:"Email",labelPlacement:"floating",value:x.email,onIonInput:e=>h("email",e.detail.value)})}),i.jsx(d,{children:i.jsx(r,{type:"text",label:"Name",labelPlacement:"floating",value:null==x?void 0:x.name,onIonInput:e=>h("name",e.detail.value),required:!0})}),i.jsx(d,{children:i.jsxs(o,{value:null==x?void 0:x.role,onIonChange:e=>h("role",e.detail.value),label:"Role",labelPlacement:"stacked",children:[i.jsx(c,{value:"Basic",children:"Basic"}),i.jsx(c,{value:"Admin",children:"Admin"}),i.jsx(c,{value:"Super User",children:"Super User"})]})}),i.jsx(s.Suspense,{fallback:i.jsx(u,{name:"crescent"}),children:i.jsx(k,{value:null==x?void 0:x.DepartmentId,onChange:e=>h("DepartmentId",e)})}),i.jsx(d,{children:i.jsx(j,{checked:null==x?void 0:x.inActive,onIonChange:e=>h("inActive",e.detail.checked),children:"InActive"})}),i.jsx(v,{type:"submit",expand:"block",children:"Submit"})]})})},w=s.lazy((()=>t((()=>l.import("./TableUser-legacy-26e7d38c.js")),void 0)));e("default",(()=>{const{data:e,isLoading:l,refetch:a}=(()=>{const{setLoading:e}=n(),{errorToast:l}=I();return b({queryKey:["users"],queryFn:()=>D(),onError:async n=>{l(n),e(!1)},onSettled:async()=>{e(!1)},refetchOnWindowFocus:!1,retry:!1})})(),[t,d]=s.useState(),[r,o]=s.useState(!1);return i.jsxs(i.Fragment,{children:[i.jsx(x,{slot:"fixed",onIonRefresh:async e=>{a(),e.detail.complete()},children:i.jsx(m,{})}),i.jsx(p,{children:i.jsx(h,{children:i.jsx(y,{children:i.jsx(g,{title:"Data User",children:l?i.jsx(u,{name:"crescent"}):i.jsx(s.Suspense,{fallback:i.jsx(u,{name:"crescent"}),children:i.jsx(w,{data:e,handleClickBtnEdit:e=>(e=>{d(e),o(!0)})(e)})})})})})}),i.jsx(q,{data:t,isOpen:r,onDidDismiss:()=>o(!1)})]})}))}}}));
